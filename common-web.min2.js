window.jQuery?(console.log("jQuery Loaded"),function(){var e={pageviewsEventName:"pageviews",inputChangeEventName:"input-changes",clicksEventName:"clicks",formSubmissionsEventName:"form-submissions",callbackTimeout:1e3,globalProperties:{page_url:window.location.href,referrer_url:document.referrer}},t={options:e};function n(e,n,i){var r=t.options.globalProperties,a=$.extend(!0,{},r,o(i,[e,n])),s={element:t.Transformations.elementToProperties(n,null)},l={event:t.Transformations.eventToProperties(e)};return $.extend(!0,{},a,s,l)}function o(e,t){return"function"==typeof e?e.apply(window,t):e}t.addGlobalProperties=function(e){$.extend(t.options.globalProperties,e)},t.trackSession=function(e,n){"string"!=typeof e&&(e="common_web_guid");for(var o=document.cookie.split("; "),i=null,r=0;r<o.length;r++)if(cookieParts=o[r].split("="),cookieParts[0]===e){i=cookieParts[1];break}return null===i&&("string"==typeof n?i=n:(genSub=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},i=genSub()+genSub()+"-"+genSub()+"-"+genSub()+"-"+genSub()+"-"+genSub()+genSub()+genSub()),expiration_date=new Date,expiration_date.setFullYear(expiration_date.getFullYear()+1),cookie_string=e+"="+i+"; path/; expires="+expiration_date.toGMTString(),document.cookie=cookie_string),t.addGlobalProperties({guid:i}),i},t.trackPageview=function(e){var n=t.options.globalProperties,i=$.extend(!0,{},n,o(e));t.Callback(t.options.pageviewsEventName,i)},t.trackClicks=function(o,i){void 0===o&&(o=$("a")),$.each(o,function(o,r){$(r).on("click",function(o){var a,s=t.options.callbackTimeout,l=n(o,r,i),u=function(){};r.href&&"_blank"!==r.target&&!((a=o).metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&(u=function(){window.location.href=r.href},o.preventDefault(),setTimeout(function(){window.location.href=r.href},s)),t.Callback(e.clicksEventName,l,u)})})},t.trackClicksPassive=function(o,i){$.each(o,function(o,r){$(r).on("click",function(o){var a=n(o,r,i);t.Callback(e.clicksEventName,a)})})},t.trackFormSubmissions=function(n,i){void 0===n&&(n=$("form")),$.each(n,function(n,r){var a=t.options.callbackTimeout,s=!1;$(r).on("submit",function(n){var l,u,c,m,f,p,v,g=(l=n,u=r,c=i,m=t.options.globalProperties,f=$.extend(!0,{},m,o(c,[l,u])),p={element:t.Transformations.formElementToProperties(u)},v={event:t.Transformations.eventToProperties(l)},$.extend(!0,{},f,p,v)),d=function(){};d=function(){s||(s=!0,r.submit())},n.preventDefault(),setTimeout(function(){s=!0,console.log(r),r.submit()},a),t.Callback(e.formSubmissionsEventName,g,d)})})},t.trackInputChanges=function(n,i){void 0===n&&(n=$("input, textarea, select")),$.each(n,function(n,r){var a=$(r).val();$(r).on("change",function(n){var s=function(e,n,i,r){var a=t.options.globalProperties,s=$.extend(!0,{},a,o(r,[e,n])),l={element:t.Transformations.inputElementToProperties(n)};i&&""!==i&&(l.element.previousValue=i);var u={event:t.Transformations.eventToProperties(e)};return $.extend(!0,{},s,l,u)}(n,r,a,i);t.Callback(e.inputChangeEventName,s),a=$(r).val()})})},t.Transformations={eventToProperties:function(e){var t={};return t.timestamp=e.timestamp,t.type=e.type,t.metaKey=e.metaKey,t},elementToProperties:function(e,t){var n=t||{};n.tagName=e.tagName,"A"===e.tagName&&(n.text=e.innerText),$(e.attributes).each(function(e,t){n[t.nodeName]=t.value});var o=$(e).attr("class");return o&&(n.classes=o.split(/\s+/)),n.path=$(e).getPath(),n},formElementToProperties:function(e){var t={};return t.form_values=$(e).serializeArray(),console.log(t.form_values),this.elementToProperties(e,t)},inputElementToProperties:function(e){var t={value:$(e).val()},n=$(e).closest("form");return n.length>0&&(t.form=this.elementToProperties(n[0])),this.elementToProperties(e,t)}},jQuery.fn.extend({getPath:function(e){if(void 0===e&&(e=""),this.is("html"))return"html"+e;var t=this.get(0).nodeName.toLowerCase(),n=this.attr("id"),o=this.attr("class");return void 0!==n&&(t+="#"+n),void 0!==o&&(t+="."+o.split(/[\s\n]+/).join(".")),this.parent().getPath(" > "+t+e)}}),window.CommonWeb=t}()):console.log("No jQuery Loaded");
